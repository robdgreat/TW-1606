<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">


<beans>

  <bean id="message-bus" class="org.twdata.TW1606.signal.MessageBus" />

  <bean id="reader" class="org.twdata.TW1606.StreamReader">
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
 
  <!-- {{{ tradewars related -->
  
  <bean id="sector-map" class="org.twdata.TW1606.tw.gui.SectorMap">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="session"><ref bean="session" /></property>
  </bean>
  
  <bean id="parser.trade" class="org.twdata.TW1606.tw.TradeParser">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="session"><ref bean="session" /></property>
  </bean>
  
  <bean id="parser.sector-display" class="org.twdata.TW1606.tw.SectorDisplayParser">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="session"><ref bean="session" /></property>
  </bean>
  
  <bean id="parser.scan" class="org.twdata.TW1606.tw.ScanParser">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="session"><ref bean="session" /></property>
  </bean>
  
  <bean id="parser.status" class="org.twdata.TW1606.tw.StatusParser">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="session"><ref bean="session" /></property>
  </bean>
  
  <bean id="parser.cim" class="org.twdata.TW1606.tw.CimParser">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="session"><ref bean="session" /></property>
  </bean>
  
  <bean id="parser.planet" class="org.twdata.TW1606.tw.PlanetParser">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="session"><ref bean="session" /></property>
  </bean>
  
  <bean id="parser.computer" class="org.twdata.TW1606.tw.ComputerParser">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="session"><ref bean="session" /></property>
  </bean>
  
  <bean id="session" class="org.twdata.TW1606.tw.TWSession">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
  
  <!-- }}} -->
  
  <!-- {{{ general dao -->
  <bean id="dao-manager" class="org.twdata.TW1606.data.DaoManagerImpl" />
  <bean id="datastore" class="org.twdata.TW1606.data.MapDatastore" init-method="init">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="modelSupport"><ref bean="model-support" /></property>
  </bean>
  
  <bean id="model-support" class="org.twdata.TW1606.tw.data.TWModelSupport" />
  <!-- }}} -->
  <!--
  <bean id="main.lexer2Runner" class="org.twdata.TW1606.Lexer2Runner">
    <property name="lexers">
      <map>
        <entry key="main">
            <value>org.twdata.TW1606.tw.TWLexer2</value>
        </entry>
      </map>
    </property>
  </bean>
  -->
  
  <!-- {{{ tw dao -->
  <bean id="corporationDao" class="org.twdata.TW1606.tw.data.CorporationMapDao">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="datastore"><ref bean="datastore" /></property>
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
  <bean id="gameDao" class="org.twdata.TW1606.tw.data.GameMapDao">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="datastore"><ref bean="datastore" /></property>
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
  <bean id="planetDao" class="org.twdata.TW1606.tw.data.PlanetMapDao">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="datastore"><ref bean="datastore" /></property>
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
  <bean id="planetTypeDao" class="org.twdata.TW1606.tw.data.PlanetTypeMapDao">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="datastore"><ref bean="datastore" /></property>
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
  <bean id="playerDao" class="org.twdata.TW1606.tw.data.PlayerMapDao">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="datastore"><ref bean="datastore" /></property>
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
  <bean id="portDao" class="org.twdata.TW1606.tw.data.PortMapDao">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="datastore"><ref bean="datastore" /></property>
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
  <bean id="sectorDao" class="org.twdata.TW1606.tw.data.SectorMapDao">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="datastore"><ref bean="datastore" /></property>
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
  <bean id="shipDao" class="org.twdata.TW1606.tw.data.ShipMapDao">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="datastore"><ref bean="datastore" /></property>
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
  <bean id="shipTypeDao" class="org.twdata.TW1606.tw.data.ShipTypeMapDao">
    <property name="daoManager"><ref bean="dao-manager" /></property>
    <property name="datastore"><ref bean="datastore" /></property>
    <property name="messageBus"><ref bean="message-bus" /></property>
  </bean>
  <!-- }}} -->
  
  <!-- {{{ tw models -->
  <bean id="gameModel" class="org.twdata.TW1606.tw.model.GameImpl" singleton="false">
    <property name="daoManager"><ref bean="dao-manager" /></property>
  </bean>
  <bean id="corporationModel" class="org.twdata.TW1606.tw.model.CorporationImpl" singleton="false">
    <property name="daoManager"><ref bean="dao-manager" /></property>
  </bean>
  <bean id="planetModel" class="org.twdata.TW1606.tw.model.PlanetImpl" singleton="false">
    <property name="daoManager"><ref bean="dao-manager" /></property>
  </bean>
  <bean id="planetTypeModel" class="org.twdata.TW1606.tw.model.PlanetTypeImpl" singleton="false">
    <property name="daoManager"><ref bean="dao-manager" /></property>
  </bean>
  <bean id="playerModel" class="org.twdata.TW1606.tw.model.PlayerImpl" singleton="false">
    <property name="daoManager"><ref bean="dao-manager" /></property>
  </bean>
  <bean id="portModel" class="org.twdata.TW1606.tw.model.PortImpl" singleton="false">
    <property name="daoManager"><ref bean="dao-manager" /></property>
  </bean>
  <bean id="sectorModel" class="org.twdata.TW1606.tw.model.SectorImpl" singleton="false">
    <property name="daoManager"><ref bean="dao-manager" /></property>
  </bean>
  <bean id="shipModel" class="org.twdata.TW1606.tw.model.ShipImpl" singleton="false">
    <property name="daoManager"><ref bean="dao-manager" /></property>
  </bean>
  <bean id="shipTypeModel" class="org.twdata.TW1606.tw.model.ShipTypeImpl" singleton="false">
    <property name="daoManager"><ref bean="dao-manager" /></property>
  </bean>
  <!-- }}} -->
  
</beans>
